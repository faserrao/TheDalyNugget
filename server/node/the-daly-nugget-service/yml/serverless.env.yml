 environment:

    DN_AWS_REGION: "${self:provider.region}"

    DN_DOMAIN: ${env:DN_DOMAIN}
    DN_SUBDOMAIN: ${env:DN_SUBDOMAIN}

    DN_HOSTED_ZONE_NAME: "${self:provider.environment.DN_DOMAIN}."

    DN_URL: "http://${self:provider.environment.DN_DOMAIN}"

    NUGGET_OF_THE_DAY_TABLE: "${env:NUGGET_OF_THE_DAY_TABLE}-${opt:stage, self:provider.stage}"
    NUGGET_BASE_TABLE: "${env:NUGGET_BASE_TABLE}-${opt:stage, self:provider.stage}"
    NUGGET_SUBSCRIBER_TABLE: "${env:NUGGET_SUBSCRIBER_TABLE}-${opt:stage, self:provider.stage}"
    NUGGETEER_TABLE: "${env:NUGGETEER_TABLE}-${opt:stage, self:provider.stage}"
    NUGGET_HISTORY_TABLE: "${env:NUGGET_HISTORY_TABLE}-${opt:stage, self:provider.stage}"

    DN_BLESSED_EMAIL_ADDRESS: "thenuggrev.${self:provider.stage}@gmail.com"
    DN_REVS_EMAIL_ADDRESS: "${env:DN_REVS_EMAIL_ADDRESS}"
    DN_NUGGET_EMAIL_SUBJECT: "Your Daily Nugget From The Rev"

    IS_LOCAL: ${env:IS_LOCAL}

# AWS_ACCOUNT_ID: Ref: AWS::AccountId
# SES_WRITABLE_ROLE_NAME: ${self:service}-${self:provider.stage}-ses-writable-role
# SES_WRITABLE_POLICY_NAME: ${self:service}-${self:provider.stage}-ses-writable-policy
# EMAIL_RECEIVED_TABLE_NAME: ${self:service}-${self:provider.stage}-table
# EMAIL_RECEIVED_BUCKET_NAME: ${self:service}-${self:provider.stage}-bucket

# The rule set name is referenced via an external environment variable because
# Cloudformation does not support the activation of the receipt rule set.    So,
# we have to activate it via the aws cli in the Makefile.

    DN_S3_BUCKET_PREFIX: "${env:DN_S3_BUCKET_PREFIX}"

    DN_S3_NOD_BUCKET: "${self:provider.environment.DN_S3_BUCKET_PREFIX}-emails"
    DN_S3_NOD_BUCKET_REF: "S3Bucket${env:DN_SERVICE_PREFIX_NO_DASHES_UPPER_T}emails"

#    DN_SES_DNS_TXT_REC: '${file(./scripts/serverlessVariables.js):serverlessVariables.sesTextRecVal}'
#    DN_SES_DNS_TXT_REC: !Select [0, !Split ["|", '${file(./scripts/serverlessVariables.js):serverlessVariables.sesTextRecVal}']]

    DN_SES_EMAIL_RECEIPT_RULE_SET_NAME: "${env:DN_SES_EMAIL_RECEIPT_RULE_SET_NAME}"
    DN_SES_EMAIL_RECEIPT_RULE_NAME: "${env:DN_SERVICE_PREFIX_DASHES}-receipt-rule"
    DN_SES_EMAIL_RECEIPT_RULE_EMAIL_ADDRESS: "faserrao@${env:DN_DOMAIN}" 

    DN_SES_CUSTOM_VERIFICATION_EMAIL_TEMPLATE_NAME: "${env:DN_SES_CUSTOM_VERIFICATION_EMAIL_TEMPLATE_NAME}"

    DN_SERVERLESS_OUTPUT_FILE: "${env:DN_SERVERLESS_OUTPUT_FILE}"

    DN_S3_STACK_OUTPUT_BUCKET: "${env:DN_S3_STACK_OUTPUT_BUCKET}"
    DN_S3_STACK_OUTPUT_FILE_NAME:  "${env:DN_S3_STACK_OUTPUT_FILE}"

    DN_S3_STATIC_WEBSITE_BUCKET_NAME: "${self:provider.environment.DN_SUBDOMAIN}"
    DN_S3_URL_REDIRECT_BUCKET_NAME: "${self:provider.environment.DN_DOMAIN}"

    DN_LOCAL_REGION: "${env:DN_LOCAL_REGION}"
    DN_LOCAL_DDB_ENDPOINT: "${env:DN_LOCAL_DDB_ENDPOINT}"

